<html>
<head>
<title>Check</title>
<link href="../book.css" rel="stylesheet" type="text/css"/>
<meta content="DocBook XSL Stylesheets V1.73.2" name="generator"/>
<link rel="start" href="index.html" title="Check / Xtend / Xpand Reference"/>
<link rel="up" href="index.html" title="Check / Xtend / Xpand Reference"/>
<link rel="prev" href="r10_expressions_language.html" title="Expressions"/>
<link rel="next" href="Xtend_language.html" title="Xtend"/>
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<p>openArchitectureWare also provides a language to specify constraints that the
      model has to fulfill in order to be correct. This language is very easy to understand
      and use. Basically, it is built around the expression syntax that has been discussed
      in detail in the previous section. Constraints specified in the
      <span class="emphasis">
<em>Check</em>
</span> language have to be stored in files with the file
      extension <code class="filename">.chk</code>. Furthermore, these files have to be on the
      Java classpath, of course, in order to be found. Let us look at an example, in order to
      understand, what these constraints look like and what they do:
      <pre class="programlisting">
      
      import data; context Attribute ERROR "Names have
      to be more than one character long." : name.length &gt; 1;</pre>Now,
      let us look at the example line by line:
      <div class="orderedlist">
<ol type="1">
<li>
<p>First, the metamodel has to be imported.</p>
</li>
<li>
<p>Then, the context is specified for which the constraint applies. In other
            words, after the
            <code class="code">context</code> keyword, we put the name of the metaclass that is going
            to be checked by the constraint. Then, there follows either
            <code class="code">ERROR</code> or
            <code class="code">WARNING</code>, These keywords specify what kind of action will be
            taken in case the constraint fails:
            <div class="table">
<a name="N10474"/>
<p class="title">
<b>Table 1. Types of action for <span class="emphasis">
<em>Check</em>
</span>
                constraints</b>
</p>
<div class="table-contents">
<table summary="Types of action for Check&#10;                constraints" cellspacing="0" cellpadding="10" style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; ">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody>
<tr>
<td style="border-right: 2 solid #000000; border-bottom: 2 solid #000000; ">
                      <code class="code">WARNING</code>
                    </td>
<td style="border-bottom: 2 solid #000000; ">If the constraint fails, the specified message is printed,
                      but the workflow execution is not stopped.</td>
</tr>
<tr>
<td style="border-right: 2 solid #000000; ">
                      <code class="code">ERROR</code>
                    </td>
<td style="">If the constraint fails, the specified message is printed
                      and all further processing is stopped.</td>
</tr>
</tbody>
</table>
</div>
</div>
<br class="table-break"/>
</p>
</li>
<li>
<p>Now, the message that is put in case that the constraint fails is specified
            as a string. It is possible to include the value of attributes or the return
            value of functions into the message in order to make the message more clear. For
            example, it would be possible to improve the above example by rewriting it like
            this:</p>
<pre class="programlisting">
          
          import data; context Attribute ERROR "Name
          of '" + name + "too short. Names have to be more than one character long." :
          name.length &gt; 1;</pre>
</li>
<li>
<p>Finally, there is the condition itself, which is specified by an
            expression, which has been discussed in detail in the previous section. If
            this expression is <code class="varname">true</code>, the constraint is
            fulfilled.</p>
</li>
</ol>
</div>
</p>
<p> <div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">
<p>Please always keep in mind that the message that is associated with the
        constraint is printed, if the condition of the constraint is
        <code class="varname">false</code>! Thus, if the specified constraint condition is
        <code class="varname">true</code>, nothing will be printed out and the constraint will be
        fulfilled.</p>
</div> </p>
</body>
</html>
